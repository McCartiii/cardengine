# ── Supabase ──────────────────────────────────────────────────────────────────
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret

# ── Database ──────────────────────────────────────────────────────────────────
# Use the Supabase **Transaction Pooler** URL (port 6543) for production/Railway.
# Direct connections (port 5432) are limited to ~60 and will exhaust under load.
# Find yours: Supabase dashboard > Settings > Database > Connection string > Mode: Transaction
DATABASE_URL=postgresql://postgres.xxxxx:[YOUR-PASSWORD]@aws-1-us-east-2.pooler.supabase.com:6543/postgres
#
# Direct connection -- only needed for schema migrations (prisma migrate deploy):
# DIRECT_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres

# ── Server ────────────────────────────────────────────────────────────────────
PORT=3001
HOST=0.0.0.0

# ── Admin ─────────────────────────────────────────────────────────────────────
# Comma-separated Supabase user UUIDs that can call /admin/* endpoints
# Find your UUID: Supabase dashboard → Authentication → Users
ADMIN_USER_IDS=your-supabase-user-uuid

# ── AI (optional) ─────────────────────────────────────────────────────────────
# Required for /v1/ai/deck-advice endpoint
ANTHROPIC_API_KEY=sk-ant-...

# ── Feature flags ─────────────────────────────────────────────────────────────
# Set to "false" to disable auto-ingest on first boot (default: enabled)
# AUTO_INGEST_ON_EMPTY=false

# Set to "false" to disable the daily price refresh job (default: enabled)
# ENABLE_PRICE_REFRESH=false

# Set to "false" to disable the hourly watchlist alert job (default: enabled)
# ENABLE_WATCHLIST_CHECK=false
